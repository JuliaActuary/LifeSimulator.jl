# Benchmarking

Benchmarks in this repository:

* `basic_term_benchmark`: Replicate the cashflows of the [LifeLib BasicTerm model](https://github.com/lifelib-dev/lifelib/tree/main/lifelib/libraries/basiclife/BasicTerm_M)
    * Python [LifeLib BasicTerm_M](https://github.com/lifelib-dev/lifelib/tree/main/lifelib/libraries/basiclife/BasicTerm_M)
    * Julia [using memoization](https://github.com/actuarialopensource/benchmarks/blob/main/Julia/src/Benchmarks.jl)
    * Python [using custom memoization decorator](https://github.com/actuarialopensource/benchmarks/blob/main/Python/basicterm_scratch.py)
    * Python [using JAX](https://github.com/actuarialopensource/benchmarks/blob/main/Python/basicterm_jax.py)
* `exposures`: Create date partitions for experience studies
    * Julia [ExperienceAnalysis](https://github.com/JuliaActuary/ExperienceAnalysis.jl)
    * R [actxps](https://github.com/mattheaphy/actxps)
* `mortality`: Read SOA mortality tables and use them in a simple calculation
    * Julia [MortalityTables](https://github.com/JuliaActuary/MortalityTables.jl)
    * Python [Pymort](https://github.com/actuarialopensource/pymort)

The below results are generated by the benchmarking scripts in the folders for each language. These scripts are run automatically by GitHub Actions and populate the results below. 
```yaml 
basic_term_benchmark:
- Julia Benchmarks basic_term:
    mean: TrialEstimate(217.232 ms)
    result: 1.4489630534602132e7
- Python jax basic_term_m:
    mean: 230.90498580000087 milliseconds
    result: 14489630.534632105
  Python lifelib basic_term_m:
    mean: 712.6309293999981 milliseconds
    result: 14489630.534629744
  Python scratch basic_term_m:
    mean: 558.628242399999 milliseconds
    result: 14489630.53463211
exposures:
- Julia ExperienceAnalysis.jl:
    mean: TrialEstimate(47.371 ms)
    num_rows: 141281
- R actxps:
    mean: 793.672547 ms
    num_rows: 141281
mortality:
- Julia MortalityTables.jl:
    mean: TrialEstimate(496.471 μs)
    result: 1904.4865526636793
- Python PyMort:
    mean: 1683.8011441499987 milliseconds
    result: 1904.4865526636793
savings_benchmark:
- Julia Benchmarks savings:
    mean: TrialEstimate(547.756 μs)
    result: 4.100303716088384e8
- Python lifelib cashvalue_me_ex4:
    mean: 160.37958784999944 milliseconds
    result: 410030371.60884124
```